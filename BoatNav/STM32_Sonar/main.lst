
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar\main.o:     file format elf32-littlearm
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar\main.o


Disassembly of section .text.GetEcho:

00000000 <GetEcho>:
GetEcho():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:242
  u32* ADC;
  u8 Echo;

  /* Get pointer to injected channel */
  ADC = ( (u32 *) ADC1_ICDR_Address);
  while (STM32_Sonar.Start)
   0:	f240 0300 	movw	r3, #0
   4:	f2c0 0300 	movt	r3, #0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:247
  {
    /* To eliminate the need for an advanced AM demodulator the largest */ 
    /* ADC reading is stored in its echo array element */
    /* Get echo */
    Echo = ( (*(u32*) (((*(u32*)&ADC)))) >> 4);
   8:	f242 403c 	movw	r0, #9276	; 0x243c
   c:	f2c4 0001 	movt	r0, #16385	; 0x4001
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:242
  u32* ADC;
  u8 Echo;

  /* Get pointer to injected channel */
  ADC = ( (u32 *) ADC1_ICDR_Address);
  while (STM32_Sonar.Start)
  10:	e00c      	b.n	2c <GetEcho+0x2c>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:247
  {
    /* To eliminate the need for an advanced AM demodulator the largest */ 
    /* ADC reading is stored in its echo array element */
    /* Get echo */
    Echo = ( (*(u32*) (((*(u32*)&ADC)))) >> 4);
  12:	6802      	ldr	r2, [r0, #0]
  14:	f3c2 1207 	ubfx	r2, r2, #4, #8
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:249
    /* If echo larger than previous echo then update the echo array */
    if (Echo > STM32_Sonar.EchoArray[STM32_Sonar.EchoIndex])
  18:	88d9      	ldrh	r1, [r3, #6]
  1a:	b289      	uxth	r1, r1
  1c:	1859      	adds	r1, r3, r1
  1e:	7c09      	ldrb	r1, [r1, #16]
  20:	4291      	cmp	r1, r2
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:251
    {
      STM32_Sonar.EchoArray[STM32_Sonar.EchoIndex] = Echo;
  22:	bf3f      	itttt	cc
  24:	88d9      	ldrhcc	r1, [r3, #6]
  26:	b289      	uxthcc	r1, r1
  28:	1859      	addcc	r1, r3, r1
  2a:	740a      	strbcc	r2, [r1, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:242
  u32* ADC;
  u8 Echo;

  /* Get pointer to injected channel */
  ADC = ( (u32 *) ADC1_ICDR_Address);
  while (STM32_Sonar.Start)
  2c:	781a      	ldrb	r2, [r3, #0]
  2e:	2a00      	cmp	r2, #0
  30:	d1ef      	bne.n	12 <GetEcho+0x12>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:254
    if (Echo > STM32_Sonar.EchoArray[STM32_Sonar.EchoIndex])
    {
      STM32_Sonar.EchoArray[STM32_Sonar.EchoIndex] = Echo;
    }
  }
}
  32:	4770      	bx	lr

Disassembly of section .text.GetADCValue:

00000000 <GetADCValue>:
GetADCValue():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:264
* Input          : ADC channel
* Output         : None
* Return         : The ADC cannel reading
*******************************************************************************/
u16 GetADCValue(u8 Channel)
{
   0:	b570      	push	{r4, r5, r6, lr}
   2:	b086      	sub	sp, #24
   4:	4606      	mov	r6, r0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:269
  vu8 i;
  vu16 ADCValue;
  ADC_InitTypeDef ADC_InitStructure;

  ADCValue = 0;
   6:	f04f 0300 	mov.w	r3, #0
   a:	f8ad 3014 	strh.w	r3, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:270
  ADC_InitStructure.ADC_Mode = ADC_Mode_Independent;
   e:	9300      	str	r3, [sp, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:271
  ADC_InitStructure.ADC_ScanConvMode = ENABLE;
  10:	f04f 0401 	mov.w	r4, #1
  14:	f88d 4004 	strb.w	r4, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:272
  ADC_InitStructure.ADC_ContinuousConvMode = ENABLE;
  18:	f88d 4005 	strb.w	r4, [sp, #5]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:273
  ADC_InitStructure.ADC_ExternalTrigConv = ADC_ExternalTrigConv_None;
  1c:	f44f 2260 	mov.w	r2, #917504	; 0xe0000
  20:	9202      	str	r2, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:274
  ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;
  22:	9303      	str	r3, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:275
  ADC_InitStructure.ADC_NbrOfChannel = 1;
  24:	f88d 4010 	strb.w	r4, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:276
  ADC_Init(ADC1, &ADC_InitStructure);
  28:	f44f 5510 	mov.w	r5, #9216	; 0x2400
  2c:	f2c4 0501 	movt	r5, #16385	; 0x4001
  30:	4628      	mov	r0, r5
  32:	4669      	mov	r1, sp
  34:	f7ff fffe 	bl	0 <ADC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:278
  /* ADC1 regular channel configuration */ 
  ADC_RegularChannelConfig(ADC1, Channel, 1, ADC_SampleTime_239Cycles5);
  38:	4628      	mov	r0, r5
  3a:	4631      	mov	r1, r6
  3c:	4622      	mov	r2, r4
  3e:	f04f 0307 	mov.w	r3, #7
  42:	f7ff fffe 	bl	0 <ADC_RegularChannelConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:280
  /* Start ADC1 Software Conversion */ 
  ADC_SoftwareStartConvCmd(ADC1, ENABLE);
  46:	4628      	mov	r0, r5
  48:	4621      	mov	r1, r4
  4a:	f7ff fffe 	bl	0 <ADC_SoftwareStartConvCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:282
  /* Add 16 conversions to reduce thermal noise */
  i = 16;
  4e:	f04f 0310 	mov.w	r3, #16
  52:	f88d 3017 	strb.w	r3, [sp, #23]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:283
  while (i--)
  56:	f89d 3017 	ldrb.w	r3, [sp, #23]
  5a:	f103 32ff 	add.w	r2, r3, #4294967295
  5e:	b2d2      	uxtb	r2, r2
  60:	f88d 2017 	strb.w	r2, [sp, #23]
  64:	b1fb      	cbz	r3, a6 <GetADCValue+0xa6>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:285
  {
    ADC_ClearFlag(ADC1, ADC_FLAG_EOC);
  66:	f44f 5410 	mov.w	r4, #9216	; 0x2400
  6a:	f2c4 0401 	movt	r4, #16385	; 0x4001
  6e:	f04f 0502 	mov.w	r5, #2
  72:	4620      	mov	r0, r4
  74:	4629      	mov	r1, r5
  76:	f7ff fffe 	bl	0 <ADC_ClearFlag>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:286
    while (ADC_GetFlagStatus(ADC1, ADC_FLAG_EOC) == RESET)
  7a:	4620      	mov	r0, r4
  7c:	4629      	mov	r1, r5
  7e:	f7ff fffe 	bl	0 <ADC_GetFlagStatus>
  82:	2800      	cmp	r0, #0
  84:	d0f9      	beq.n	7a <GetADCValue+0x7a>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:289
    {
    }
    ADCValue += ADC1->DR;
  86:	6ce2      	ldr	r2, [r4, #76]	; 0x4c
  88:	f8bd 3014 	ldrh.w	r3, [sp, #20]
  8c:	18d3      	adds	r3, r2, r3
  8e:	b29b      	uxth	r3, r3
  90:	f8ad 3014 	strh.w	r3, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:283
  ADC_RegularChannelConfig(ADC1, Channel, 1, ADC_SampleTime_239Cycles5);
  /* Start ADC1 Software Conversion */ 
  ADC_SoftwareStartConvCmd(ADC1, ENABLE);
  /* Add 16 conversions to reduce thermal noise */
  i = 16;
  while (i--)
  94:	f89d 3017 	ldrb.w	r3, [sp, #23]
  98:	f103 32ff 	add.w	r2, r3, #4294967295
  9c:	b2d2      	uxtb	r2, r2
  9e:	f88d 2017 	strb.w	r2, [sp, #23]
  a2:	2b00      	cmp	r3, #0
  a4:	d1e5      	bne.n	72 <GetADCValue+0x72>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:292
    {
    }
    ADCValue += ADC1->DR;
  }
  /* Stop ADC1 Software Conversion */ 
  ADC_SoftwareStartConvCmd(ADC1, DISABLE);
  a6:	f44f 5010 	mov.w	r0, #9216	; 0x2400
  aa:	f2c4 0001 	movt	r0, #16385	; 0x4001
  ae:	f04f 0100 	mov.w	r1, #0
  b2:	f7ff fffe 	bl	0 <ADC_SoftwareStartConvCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:294
  /* Return average of the 16 added conversions */
  return (ADCValue >> 4);
  b6:	f8bd 0014 	ldrh.w	r0, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:295
}
  ba:	f3c0 100b 	ubfx	r0, r0, #4, #12
  be:	b006      	add	sp, #24
  c0:	bd70      	pop	{r4, r5, r6, pc}
  c2:	bf00      	nop

Disassembly of section .text.TrimOutput:

00000000 <TrimOutput>:
TrimOutput():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:210
    while (i--);
  }
}

void TrimOutput(void)
{
   0:	e92d 43f0 	stmdb	sp!, {r4, r5, r6, r7, r8, r9, lr}
   4:	b083      	sub	sp, #12
   6:	f04f 060a 	mov.w	r6, #10
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:217
  u16 TrimAdd;
  vu32 i;

  /* Trim echo output to near zero */
  Trim = (u16)0x400;
  TrimAdd = (u16)0x200;
   a:	f44f 7500 	mov.w	r5, #512	; 0x200
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:216
  u16 Trim;
  u16 TrimAdd;
  vu32 i;

  /* Trim echo output to near zero */
  Trim = (u16)0x400;
   e:	f44f 6480 	mov.w	r4, #1024	; 0x400
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:220
  TrimAdd = (u16)0x200;
  while (TrimAdd)
  {
    DAC->DHR12R2 = Trim;
  12:	f44f 47e8 	mov.w	r7, #29696	; 0x7400
  16:	f2c4 0700 	movt	r7, #16384	; 0x4000
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:221
    i = 10000;
  1a:	f242 7810 	movw	r8, #10000	; 0x2710
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:223
    while (i--);
    if (GetADCValue(ADC_Channel_3)>32)
  1e:	f04f 0903 	mov.w	r9, #3
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:220
  /* Trim echo output to near zero */
  Trim = (u16)0x400;
  TrimAdd = (u16)0x200;
  while (TrimAdd)
  {
    DAC->DHR12R2 = Trim;
  22:	617c      	str	r4, [r7, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:221
    i = 10000;
  24:	f8cd 8004 	str.w	r8, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:222
    while (i--);
  28:	9b01      	ldr	r3, [sp, #4]
  2a:	f103 32ff 	add.w	r2, r3, #4294967295
  2e:	9201      	str	r2, [sp, #4]
  30:	2b00      	cmp	r3, #0
  32:	d1f9      	bne.n	28 <TrimOutput+0x28>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:223
    if (GetADCValue(ADC_Channel_3)>32)
  34:	4648      	mov	r0, r9
  36:	f7ff fffe 	bl	0 <TrimOutput>
  3a:	2820      	cmp	r0, #32
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:225
    {
      Trim = Trim + TrimAdd;
  3c:	bf8c      	ite	hi
  3e:	192c      	addhi	r4, r5, r4
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:229
    }
    else
    {
      Trim = Trim - TrimAdd;
  40:	ebc5 0404 	rsbls	r4, r5, r4
  44:	b2a4      	uxth	r4, r4
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:231
    }
    TrimAdd = TrimAdd / 2;
  46:	ea4f 0555 	mov.w	r5, r5, lsr #1
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:218
  vu32 i;

  /* Trim echo output to near zero */
  Trim = (u16)0x400;
  TrimAdd = (u16)0x200;
  while (TrimAdd)
  4a:	3e01      	subs	r6, #1
  4c:	d1e9      	bne.n	22 <TrimOutput+0x22>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:233
    {
      Trim = Trim - TrimAdd;
    }
    TrimAdd = TrimAdd / 2;
  }
}
  4e:	b003      	add	sp, #12
  50:	e8bd 83f0 	ldmia.w	sp!, {r4, r5, r6, r7, r8, r9, pc}

Disassembly of section .text.GainSetup:

00000000 <GainSetup>:
GainSetup():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:305
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void GainSetup(void)
{
   0:	b470      	push	{r4, r5, r6}
   2:	b087      	sub	sp, #28
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:311
  vu32 GainInitInx;
  vu32 i;
  vu32 GainInx;
  vu32 GainInc;
  vu32 GainVal;
  GainInitInx=1;
   4:	f04f 0301 	mov.w	r3, #1
   8:	9305      	str	r3, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:312
  GainInx=0;
   a:	f04f 0300 	mov.w	r3, #0
   e:	9303      	str	r3, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:313
  while (GainInitInx<17)
  10:	9b05      	ldr	r3, [sp, #20]
  12:	2b10      	cmp	r3, #16
  14:	d85f      	bhi.n	d6 <GainSetup+0xd6>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:320
    GainVal=STM32_Sonar.GainInit[GainInitInx]<<13;
    GainInc=(STM32_Sonar.GainInit[GainInitInx+1]-STM32_Sonar.GainInit[GainInitInx])<<8;
    i=0;
    while (i<32)
    {
      STM32_Sonar.GainArray[GainInx]=(GainVal>>13)+STM32_Sonar.GainInit[0];
  16:	f240 0300 	movw	r3, #0
  1a:	f2c0 0300 	movt	r3, #0
  1e:	f8b3 4610 	ldrh.w	r4, [r3, #1552]	; 0x610
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:315
  vu32 GainVal;
  GainInitInx=1;
  GainInx=0;
  while (GainInitInx<17)
  {
    GainVal=STM32_Sonar.GainInit[GainInitInx]<<13;
  22:	f240 0300 	movw	r3, #0
  26:	f2c0 0300 	movt	r3, #0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:317
    GainInc=(STM32_Sonar.GainInit[GainInitInx+1]-STM32_Sonar.GainInit[GainInitInx])<<8;
    i=0;
  2a:	f04f 0500 	mov.w	r5, #0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:325
      STM32_Sonar.GainArray[GainInx]=(GainVal>>13)+STM32_Sonar.GainInit[0];
      if ((GainVal>>12) && 1)
      {
        STM32_Sonar.GainArray[GainInx]++;
      }
      if (STM32_Sonar.GainArray[GainInx]>4095)
  2e:	f640 70ff 	movw	r0, #4095	; 0xfff
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:315
  vu32 GainVal;
  GainInitInx=1;
  GainInx=0;
  while (GainInitInx<17)
  {
    GainVal=STM32_Sonar.GainInit[GainInitInx]<<13;
  32:	9a05      	ldr	r2, [sp, #20]
  34:	f502 7242 	add.w	r2, r2, #776	; 0x308
  38:	f833 2012 	ldrh.w	r2, [r3, r2, lsl #1]
  3c:	ea4f 3242 	mov.w	r2, r2, lsl #13
  40:	9201      	str	r2, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:316
    GainInc=(STM32_Sonar.GainInit[GainInitInx+1]-STM32_Sonar.GainInit[GainInitInx])<<8;
  42:	9a05      	ldr	r2, [sp, #20]
  44:	9e05      	ldr	r6, [sp, #20]
  46:	f502 7242 	add.w	r2, r2, #776	; 0x308
  4a:	f102 0201 	add.w	r2, r2, #1
  4e:	f833 1012 	ldrh.w	r1, [r3, r2, lsl #1]
  52:	f506 7242 	add.w	r2, r6, #776	; 0x308
  56:	f833 2012 	ldrh.w	r2, [r3, r2, lsl #1]
  5a:	1a8a      	subs	r2, r1, r2
  5c:	ea4f 2202 	mov.w	r2, r2, lsl #8
  60:	9202      	str	r2, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:317
    i=0;
  62:	9504      	str	r5, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:318
    while (i<32)
  64:	9a04      	ldr	r2, [sp, #16]
  66:	2a1f      	cmp	r2, #31
  68:	d82e      	bhi.n	c8 <GainSetup+0xc8>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:320
    {
      STM32_Sonar.GainArray[GainInx]=(GainVal>>13)+STM32_Sonar.GainInit[0];
  6a:	9a03      	ldr	r2, [sp, #12]
  6c:	9901      	ldr	r1, [sp, #4]
  6e:	f502 7284 	add.w	r2, r2, #264	; 0x108
  72:	eb04 3151 	add.w	r1, r4, r1, lsr #13
  76:	f823 1012 	strh.w	r1, [r3, r2, lsl #1]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:321
      if ((GainVal>>12) && 1)
  7a:	9a01      	ldr	r2, [sp, #4]
  7c:	0b12      	lsrs	r2, r2, #12
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:323
      {
        STM32_Sonar.GainArray[GainInx]++;
  7e:	bf1f      	itttt	ne
  80:	9a03      	ldrne	r2, [sp, #12]
  82:	f502 7284 	addne.w	r2, r2, #264	; 0x108
  86:	f833 1012 	ldrhne.w	r1, [r3, r2, lsl #1]
  8a:	3101      	addne	r1, #1
  8c:	bf18      	it	ne
  8e:	f823 1012 	strhne.w	r1, [r3, r2, lsl #1]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:325
      }
      if (STM32_Sonar.GainArray[GainInx]>4095)
  92:	9a03      	ldr	r2, [sp, #12]
  94:	f502 7284 	add.w	r2, r2, #264	; 0x108
  98:	f833 2012 	ldrh.w	r2, [r3, r2, lsl #1]
  9c:	4282      	cmp	r2, r0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:327
      {
        STM32_Sonar.GainArray[GainInx]=4095;
  9e:	bf82      	ittt	hi
  a0:	9a03      	ldrhi	r2, [sp, #12]
  a2:	f502 7284 	addhi.w	r2, r2, #264	; 0x108
  a6:	f823 0012 	strhhi.w	r0, [r3, r2, lsl #1]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:329
      }
      GainVal+=GainInc;
  aa:	9a01      	ldr	r2, [sp, #4]
  ac:	9902      	ldr	r1, [sp, #8]
  ae:	188a      	adds	r2, r1, r2
  b0:	9201      	str	r2, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:330
      GainInx++;
  b2:	9a03      	ldr	r2, [sp, #12]
  b4:	f102 0201 	add.w	r2, r2, #1
  b8:	9203      	str	r2, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:331
      i++;
  ba:	9a04      	ldr	r2, [sp, #16]
  bc:	f102 0201 	add.w	r2, r2, #1
  c0:	9204      	str	r2, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:318
  while (GainInitInx<17)
  {
    GainVal=STM32_Sonar.GainInit[GainInitInx]<<13;
    GainInc=(STM32_Sonar.GainInit[GainInitInx+1]-STM32_Sonar.GainInit[GainInitInx])<<8;
    i=0;
    while (i<32)
  c2:	9a04      	ldr	r2, [sp, #16]
  c4:	2a1f      	cmp	r2, #31
  c6:	d9d0      	bls.n	6a <GainSetup+0x6a>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:333
      }
      GainVal+=GainInc;
      GainInx++;
      i++;
    }
    GainInitInx++;
  c8:	9a05      	ldr	r2, [sp, #20]
  ca:	f102 0201 	add.w	r2, r2, #1
  ce:	9205      	str	r2, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:313
  vu32 GainInx;
  vu32 GainInc;
  vu32 GainVal;
  GainInitInx=1;
  GainInx=0;
  while (GainInitInx<17)
  d0:	9a05      	ldr	r2, [sp, #20]
  d2:	2a10      	cmp	r2, #16
  d4:	d9ad      	bls.n	32 <GainSetup+0x32>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:335
      GainInx++;
      i++;
    }
    GainInitInx++;
  }
}
  d6:	b007      	add	sp, #28
  d8:	bc70      	pop	{r4, r5, r6}
  da:	4770      	bx	lr

Disassembly of section .text.TIM2_IRQHandler:

00000000 <TIM2_IRQHandler>:
TIM2_IRQHandler():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:389
* Return         : None
*******************************************************************************/
void TIM2_IRQHandler(void)
{
  /* Clear TIM2 Update interrupt pending bit */
  asm("mov    r0,#0x40000000");               /* TIM2 */
   0:	f04f 4080 	mov.w	r0, #1073741824	; 0x40000000
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:390
  asm("strh   r0,[r0,#0x8 *2]");              /* TIM2->SR */
   4:	8200      	strh	r0, [r0, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:393

  /* Increment the echo array index */
  asm("mov    r1,#0x20000000");               /* STM32_Sonar */
   6:	f04f 5100 	mov.w	r1, #536870912	; 0x20000000
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:394
  asm("ldrh   r2,[r1,#0x6]");                 /* STM32_Sonar.EchoIndex */
   a:	88ca      	ldrh	r2, [r1, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:395
  asm("add    r2,r2,#0x1");
   c:	f102 0201 	add.w	r2, r2, #1
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:396
  asm("cmp    r2,#0x200");
  10:	f5b2 7f00 	cmp.w	r2, #512	; 0x200
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:397
  asm("ite    ne");
  14:	bf14      	ite	ne
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:398
  asm("strhne r2,[r1,#0x6]");                 /* STM32_Sonar.EchoIndex */
  16:	80ca      	strhne	r2, [r1, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:399
  asm("strbeq r2,[r1,#0x0]");                 /* STM32_Sonar.Start */
  18:	700a      	strbeq	r2, [r1, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:402

  /* Update the DAC to output next gain level */
  asm("movw   r0,#0x7400");                   /* DAC1 */
  1a:	f247 4000 	movw	r0, #29696	; 0x7400
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:403
  asm("movt   r0,#0x4000");
  1e:	f2c4 0000 	movt	r0, #16384	; 0x4000
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:404
  asm("add    r2,r2,0x108");
  22:	f502 7284 	add.w	r2, r2, #264	; 0x108
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:405
  asm("ldrh   r3,[r1,r2,lsl #0x1]");
  26:	f831 3012 	ldrh.w	r3, [r1, r2, lsl #1]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:406
  asm("strh   r3,[r0,#0x8]");                 /* DAC_DHR12R1 */
  2a:	8103      	strh	r3, [r0, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:407
}
  2c:	4770      	bx	lr
  2e:	bf00      	nop

Disassembly of section .text.rs232_puts:

00000000 <rs232_puts>:
rs232_puts():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:420
*******************************************************************************/
void rs232_puts(char *str)
{
  char c;
  /* Characters are transmitted one at a time. */
  while ((c = *str++))
   0:	7801      	ldrb	r1, [r0, #0]
   2:	b169      	cbz	r1, 20 <rs232_puts+0x20>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:423
  {
    /* Wait until transmit register empty*/
    while((USART1->SR & USART_FLAG_TXE) == 0);          
   4:	f44f 5260 	mov.w	r2, #14336	; 0x3800
   8:	f2c4 0201 	movt	r2, #16385	; 0x4001
   c:	8813      	ldrh	r3, [r2, #0]
   e:	f013 0f80 	tst.w	r3, #128	; 0x80
  12:	d0fb      	beq.n	c <rs232_puts+0xc>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:425
    /* Transmit Data */
    USART1->DR = (u16)c;
  14:	b249      	sxtb	r1, r1
  16:	8091      	strh	r1, [r2, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:420
*******************************************************************************/
void rs232_puts(char *str)
{
  char c;
  /* Characters are transmitted one at a time. */
  while ((c = *str++))
  18:	f810 1f01 	ldrb.w	r1, [r0, #1]!
  1c:	2900      	cmp	r1, #0
  1e:	d1f5      	bne.n	c <rs232_puts+0xc>
  20:	4770      	bx	lr
  22:	bf00      	nop

Disassembly of section .text.USART1_IRQHandler:

00000000 <USART1_IRQHandler>:
USART1_IRQHandler():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:440
* Return         : None
*******************************************************************************/
void USART1_IRQHandler(void)
{
  /* Get pointer to USART1->DR */
  asm("movw   r0,#0x3800");
   0:	f643 0000 	movw	r0, #14336	; 0x3800
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:441
  asm("movt   r0,#0x4001");
   4:	f2c4 0001 	movt	r0, #16385	; 0x4001
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:443
  /* Get recieved halfword */
  asm("ldrh   r3,[r0,#0x2*2]");
   8:	8883      	ldrh	r3, [r0, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:445
  /* Get pointer to STM32_Sonar */
  asm("mov    r0,#0x20000000");
   a:	f04f 5000 	mov.w	r0, #536870912	; 0x20000000
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:447
  /* Get GPSHead value */
  asm("ldrh   r2,[r0,#0x7*2]");
   e:	89c2      	ldrh	r2, [r0, #14]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:449
  /* Get offset to GPSArray */
  asm("movw   r1,#0x634");
  10:	f240 6134 	movw	r1, #1588	; 0x634
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:451
  /* Get pointer to GPSArray */
  asm("add    r1,r1,r0");
  14:	4401      	add	r1, r0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:453
  /* Store received byte at GPSArray[GPSHead] */
  asm("strb   r3,[r1,r2]");
  16:	548b      	strb	r3, [r1, r2]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:455
  /* Increment GPSHead */
  asm("add    r2,r2,#0x1");
  18:	f102 0201 	add.w	r2, r2, #1
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:457
  /* Limit GPSHead to 512 bytes*/
  asm("mov    r2,r2,lsl #23");
  1c:	ea4f 52c2 	mov.w	r2, r2, lsl #23
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:458
  asm("mov    r2,r2,lsr #23");
  20:	ea4f 52d2 	mov.w	r2, r2, lsr #23
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:460
  /* Store GPSHead */
  asm("strh   r2,[r0,#0x7*2]");
  24:	81c2      	strh	r2, [r0, #14]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:465

  // STM32_Sonar.GPSArray[STM32_Sonar.GPSHead++]=USART1->DR;
  // /* Limit GPSHead to 512 bytes array*/
  // STM32_Sonar.GPSHead&=MAXGPS-1;
}
  26:	4770      	bx	lr

Disassembly of section .text.ADC_Startup:

00000000 <ADC_Startup>:
ADC_Startup():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:475
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void ADC_Startup(void)
{
   0:	b530      	push	{r4, r5, lr}
   2:	b087      	sub	sp, #28
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:478
  ADC_InitTypeDef ADC_InitStructure;
  /* ADCCLK = PCLK2/2 */
  RCC_ADCCLKConfig(RCC_PCLK2_Div2);
   4:	f04f 0000 	mov.w	r0, #0
   8:	f7ff fffe 	bl	0 <RCC_ADCCLKConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:480
  /* ADC1 configuration ------------------------------------------------------*/
  ADC_InitStructure.ADC_Mode = ADC_Mode_Independent;
   c:	f04f 0300 	mov.w	r3, #0
  10:	9301      	str	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:481
  ADC_InitStructure.ADC_ScanConvMode = ENABLE;
  12:	f04f 0501 	mov.w	r5, #1
  16:	f88d 5008 	strb.w	r5, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:482
  ADC_InitStructure.ADC_ContinuousConvMode = ENABLE;
  1a:	f88d 5009 	strb.w	r5, [sp, #9]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:483
  ADC_InitStructure.ADC_ExternalTrigConv = ADC_ExternalTrigConv_None;
  1e:	f44f 2260 	mov.w	r2, #917504	; 0xe0000
  22:	9203      	str	r2, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:484
  ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;
  24:	9304      	str	r3, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:485
  ADC_InitStructure.ADC_NbrOfChannel = 1;
  26:	f88d 5014 	strb.w	r5, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:486
  ADC_Init(ADC1, &ADC_InitStructure);
  2a:	f44f 5410 	mov.w	r4, #9216	; 0x2400
  2e:	f2c4 0401 	movt	r4, #16385	; 0x4001
  32:	4620      	mov	r0, r4
  34:	a901      	add	r1, sp, #4
  36:	f7ff fffe 	bl	0 <ADC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:488
  /* ADC1 regular channel2 configuration */ 
  ADC_RegularChannelConfig(ADC1, ADC_Channel_3, 1, ADC_SampleTime_55Cycles5);
  3a:	4620      	mov	r0, r4
  3c:	f04f 0103 	mov.w	r1, #3
  40:	462a      	mov	r2, r5
  42:	f04f 0305 	mov.w	r3, #5
  46:	f7ff fffe 	bl	0 <ADC_RegularChannelConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:490
  /* Enable ADC1 */
  ADC_Cmd(ADC1, ENABLE);
  4a:	4620      	mov	r0, r4
  4c:	4629      	mov	r1, r5
  4e:	f7ff fffe 	bl	0 <ADC_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:492
  /* Enable ADC1 reset calibaration register */   
  ADC_ResetCalibration(ADC1);
  52:	4620      	mov	r0, r4
  54:	f7ff fffe 	bl	0 <ADC_ResetCalibration>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:494
  /* Check the end of ADC1 reset calibration register */
  while(ADC_GetResetCalibrationStatus(ADC1));
  58:	f44f 5410 	mov.w	r4, #9216	; 0x2400
  5c:	f2c4 0401 	movt	r4, #16385	; 0x4001
  60:	4620      	mov	r0, r4
  62:	f7ff fffe 	bl	0 <ADC_GetResetCalibrationStatus>
  66:	2800      	cmp	r0, #0
  68:	d1fa      	bne.n	60 <ADC_Startup+0x60>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:496
  /* Start ADC1 calibaration */
  ADC_StartCalibration(ADC1);
  6a:	f44f 5010 	mov.w	r0, #9216	; 0x2400
  6e:	f2c4 0001 	movt	r0, #16385	; 0x4001
  72:	f7ff fffe 	bl	0 <ADC_StartCalibration>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:498
  /* Check the end of ADC1 calibration */
  while(ADC_GetCalibrationStatus(ADC1));
  76:	f44f 5410 	mov.w	r4, #9216	; 0x2400
  7a:	f2c4 0401 	movt	r4, #16385	; 0x4001
  7e:	4620      	mov	r0, r4
  80:	f7ff fffe 	bl	0 <ADC_GetCalibrationStatus>
  84:	2800      	cmp	r0, #0
  86:	d1fa      	bne.n	7e <ADC_Startup+0x7e>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:499
}
  88:	b007      	add	sp, #28
  8a:	bd30      	pop	{r4, r5, pc}

Disassembly of section .text.ADC_Configuration:

00000000 <ADC_Configuration>:
ADC_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:510
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void ADC_Configuration(void)
{
   0:	b570      	push	{r4, r5, r6, lr}
   2:	b086      	sub	sp, #24
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:514
  ADC_InitTypeDef ADC_InitStructure;

  /* ADCCLK = PCLK2/2 */
  RCC_ADCCLKConfig(RCC_PCLK2_Div2);
   4:	f04f 0000 	mov.w	r0, #0
   8:	f7ff fffe 	bl	0 <RCC_ADCCLKConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:515
  ADC_InitStructure.ADC_Mode = ADC_Mode_Independent;
   c:	f04f 0600 	mov.w	r6, #0
  10:	9601      	str	r6, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:516
  ADC_InitStructure.ADC_ScanConvMode = ENABLE;
  12:	f04f 0401 	mov.w	r4, #1
  16:	f88d 4008 	strb.w	r4, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:517
  ADC_InitStructure.ADC_ContinuousConvMode = ENABLE;
  1a:	f88d 4009 	strb.w	r4, [sp, #9]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:518
  ADC_InitStructure.ADC_ExternalTrigConv = ADC_ExternalTrigConv_None;
  1e:	f44f 2360 	mov.w	r3, #917504	; 0xe0000
  22:	9303      	str	r3, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:519
  ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;
  24:	9604      	str	r6, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:521
  /* ADC1 single channel configuration */
  ADC_InitStructure.ADC_NbrOfChannel = 1;
  26:	f88d 4014 	strb.w	r4, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:522
  ADC_Init(ADC1, &ADC_InitStructure);
  2a:	f44f 5510 	mov.w	r5, #9216	; 0x2400
  2e:	f2c4 0501 	movt	r5, #16385	; 0x4001
  32:	4628      	mov	r0, r5
  34:	a901      	add	r1, sp, #4
  36:	f7ff fffe 	bl	0 <ADC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:524
  /* Setup injected channel */
  ADC_InjectedSequencerLengthConfig(ADC1,1);
  3a:	4628      	mov	r0, r5
  3c:	4621      	mov	r1, r4
  3e:	f7ff fffe 	bl	0 <ADC_InjectedSequencerLengthConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:526
  /* Sonar echo */
  ADC_InjectedChannelConfig(ADC1,ADC_Channel_3,1,ADC_SampleTime_1Cycles5);
  42:	4628      	mov	r0, r5
  44:	f04f 0103 	mov.w	r1, #3
  48:	4622      	mov	r2, r4
  4a:	4633      	mov	r3, r6
  4c:	f7ff fffe 	bl	0 <ADC_InjectedChannelConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:527
}
  50:	b006      	add	sp, #24
  52:	bd70      	pop	{r4, r5, r6, pc}

Disassembly of section .text.RCC_Configuration:

00000000 <RCC_Configuration>:
RCC_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:537
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void RCC_Configuration(void)
{
   0:	b510      	push	{r4, lr}
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:540
  ErrorStatus HSEStartUpStatus;
  /* RCC system reset(for debug purpose) */
  RCC_DeInit();
   2:	f7ff fffe 	bl	0 <RCC_DeInit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:542
  /* Enable HSE */
  RCC_HSEConfig(RCC_HSE_ON);
   6:	f44f 3080 	mov.w	r0, #65536	; 0x10000
   a:	f7ff fffe 	bl	0 <RCC_HSEConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:544
  /* Wait till HSE is ready */
  HSEStartUpStatus = RCC_WaitForHSEStartUp();
   e:	f7ff fffe 	bl	0 <RCC_WaitForHSEStartUp>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:545
  if(HSEStartUpStatus == SUCCESS)
  12:	2801      	cmp	r0, #1
  14:	d13e      	bne.n	94 <RCC_Configuration+0x94>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:548
  {
    /* Enable Prefetch Buffer */
    FLASH_PrefetchBufferCmd(FLASH_PrefetchBuffer_Enable);
  16:	f04f 0010 	mov.w	r0, #16
  1a:	f7ff fffe 	bl	0 <FLASH_PrefetchBufferCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:550
    /* Flash 2 wait state */
    FLASH_SetLatency(FLASH_Latency_0);
  1e:	f04f 0000 	mov.w	r0, #0
  22:	f7ff fffe 	bl	0 <FLASH_SetLatency>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:552
    /* HCLK = SYSCLK */
    RCC_HCLKConfig(RCC_SYSCLK_Div1); 
  26:	f04f 0000 	mov.w	r0, #0
  2a:	f7ff fffe 	bl	0 <RCC_HCLKConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:554
    /* PCLK2 = HCLK */
    RCC_PCLK2Config(RCC_HCLK_Div1); 
  2e:	f04f 0000 	mov.w	r0, #0
  32:	f7ff fffe 	bl	0 <RCC_PCLK2Config>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:556
    /* PCLK1 = HCLK */
    RCC_PCLK1Config(RCC_HCLK_Div1);
  36:	f04f 0000 	mov.w	r0, #0
  3a:	f7ff fffe 	bl	0 <RCC_PCLK1Config>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:558
    /* ADCCLK = PCLK2/2 */
    RCC_ADCCLKConfig(RCC_PCLK2_Div2);
  3e:	f04f 0000 	mov.w	r0, #0
  42:	f7ff fffe 	bl	0 <RCC_ADCCLKConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:573
    /* PLLCLK = 8MHz * 4 = 32 MHz */
    RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_4);
#endif
#ifdef STM32Clock40MHz
    /* PLLCLK = 8MHz * 5 = 40 MHz */
    RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_5);
  46:	f44f 3080 	mov.w	r0, #65536	; 0x10000
  4a:	f44f 2140 	mov.w	r1, #786432	; 0xc0000
  4e:	f7ff fffe 	bl	0 <RCC_PLLConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:584
#ifdef STM32Clock56MHz
    /* PLLCLK = 8MHz * 7 = 56 MHz */
    RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_7);
#endif
    /* Enable PLL */ 
    RCC_PLLCmd(ENABLE);
  52:	f04f 0001 	mov.w	r0, #1
  56:	f7ff fffe 	bl	0 <RCC_PLLCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:586
    /* Wait till PLL is ready */
    while(RCC_GetFlagStatus(RCC_FLAG_PLLRDY) == RESET)
  5a:	f04f 0439 	mov.w	r4, #57	; 0x39
  5e:	4620      	mov	r0, r4
  60:	f7ff fffe 	bl	0 <RCC_GetFlagStatus>
  64:	2800      	cmp	r0, #0
  66:	d0fa      	beq.n	5e <RCC_Configuration+0x5e>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:590
    {
    }
    /* Select PLL as system clock source */
    RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);
  68:	f04f 0002 	mov.w	r0, #2
  6c:	f7ff fffe 	bl	0 <RCC_SYSCLKConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:592
    /* Wait till PLL is used as system clock source */
    while(RCC_GetSYSCLKSource() != 0x08)
  70:	f7ff fffe 	bl	0 <RCC_GetSYSCLKSource>
  74:	2808      	cmp	r0, #8
  76:	d1fb      	bne.n	70 <RCC_Configuration+0x70>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:596
    {
    }
    /* Enable TIM1, ADC1, USART1, GPIOA, GPIOB and GPIOC peripheral clocks */
    RCC_APB2PeriphClockCmd(RCC_APB2Periph_TIM1 | RCC_APB2Periph_ADC1 | RCC_APB2Periph_USART1 | RCC_APB2Periph_GPIOA | RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC, ENABLE);
  78:	f644 201c 	movw	r0, #18972	; 0x4a1c
  7c:	f04f 0101 	mov.w	r1, #1
  80:	f7ff fffe 	bl	0 <RCC_APB2PeriphClockCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:598
    /* Enable DAC, TIM2 and TIM3 peripheral clocks */
    RCC_APB1PeriphClockCmd(RCC_APB1Periph_DAC | RCC_APB1Periph_TIM2 | RCC_APB1Periph_TIM3, ENABLE);
  84:	f04f 0003 	mov.w	r0, #3
  88:	f2c2 0000 	movt	r0, #8192	; 0x2000
  8c:	f04f 0101 	mov.w	r1, #1
  90:	f7ff fffe 	bl	0 <RCC_APB1PeriphClockCmd>
  94:	bd10      	pop	{r4, pc}
  96:	bf00      	nop

Disassembly of section .text.GPIO_Configuration:

00000000 <GPIO_Configuration>:
GPIO_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:610
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void GPIO_Configuration(void)
{
   0:	e92d 41f0 	stmdb	sp!, {r4, r5, r6, r7, r8, lr}
   4:	b082      	sub	sp, #8
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:613
  GPIO_InitTypeDef GPIO_InitStructure;
  /* Set ping outputs high (FET's off) */
  GPIO_WriteBit(GPIOA, GPIO_Pin_2 | GPIO_Pin_1, Bit_SET);
   6:	f44f 6400 	mov.w	r4, #2048	; 0x800
   a:	f2c4 0401 	movt	r4, #16385	; 0x4001
   e:	4620      	mov	r0, r4
  10:	f04f 0106 	mov.w	r1, #6
  14:	f04f 0201 	mov.w	r2, #1
  18:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:615
  /* Configure PA.02 and PA.01 as outputs */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2 | GPIO_Pin_1;
  1c:	f04f 0306 	mov.w	r3, #6
  20:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:616
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  24:	f04f 0710 	mov.w	r7, #16
  28:	f88d 7007 	strb.w	r7, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:617
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  2c:	f04f 0603 	mov.w	r6, #3
  30:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:618
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  34:	4620      	mov	r0, r4
  36:	a901      	add	r1, sp, #4
  38:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:620
  /* Configure ADC Channel7 (PA.07), ADC Channel6 (PA.06), DAC Channel2 (PA.05), DAC Channel1 (PA.04) and ADC Channel3 (PA.03) as analog input */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7 | GPIO_Pin_6 | GPIO_Pin_5 | GPIO_Pin_4 | GPIO_Pin_3;
  3c:	f04f 03f8 	mov.w	r3, #248	; 0xf8
  40:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:621
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN;
  44:	f04f 0500 	mov.w	r5, #0
  48:	f88d 5007 	strb.w	r5, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:622
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  4c:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:623
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  50:	4620      	mov	r0, r4
  52:	a901      	add	r1, sp, #4
  54:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:625
  /* Configure ADC Channel14 (PC.04) */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4;
  58:	f8ad 7004 	strh.w	r7, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:626
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN;
  5c:	f88d 5007 	strb.w	r5, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:627
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  60:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:628
  GPIO_Init(GPIOC, &GPIO_InitStructure);
  64:	f44f 5580 	mov.w	r5, #4096	; 0x1000
  68:	f2c4 0501 	movt	r5, #16385	; 0x4001
  6c:	4628      	mov	r0, r5
  6e:	a901      	add	r1, sp, #4
  70:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:630
  /* Configure PA9 USART1 Tx as alternate function push-pull */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
  74:	f44f 7300 	mov.w	r3, #512	; 0x200
  78:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:631
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  7c:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:632
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  80:	f04f 0818 	mov.w	r8, #24
  84:	f88d 8007 	strb.w	r8, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:633
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  88:	4620      	mov	r0, r4
  8a:	a901      	add	r1, sp, #4
  8c:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:635
  /* Configure PA10 USART1 Rx as input floating */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
  90:	f44f 6380 	mov.w	r3, #1024	; 0x400
  94:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:636
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
  98:	f04f 0304 	mov.w	r3, #4
  9c:	f88d 3007 	strb.w	r3, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:637
  GPIO_Init(GPIOA, &GPIO_InitStructure);
  a0:	4620      	mov	r0, r4
  a2:	eb0d 0103 	add.w	r1, sp, r3
  a6:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:639
  /* Configure PC.09 (LED3) and PC.08 (LED4) as output */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9 | GPIO_Pin_8;
  aa:	f44f 7340 	mov.w	r3, #768	; 0x300
  ae:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:640
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;
  b2:	f88d 7007 	strb.w	r7, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:641
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  b6:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:642
  GPIO_Init(GPIOC, &GPIO_InitStructure);
  ba:	4628      	mov	r0, r5
  bc:	a901      	add	r1, sp, #4
  be:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:644
  /* TIM3 channel 3 pin (PB0) configuration */
  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_0;
  c2:	f04f 0301 	mov.w	r3, #1
  c6:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:645
  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
  ca:	f88d 8007 	strb.w	r8, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:646
  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  ce:	f88d 6006 	strb.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:647
  GPIO_Init(GPIOB, &GPIO_InitStructure);
  d2:	f44f 6040 	mov.w	r0, #3072	; 0xc00
  d6:	f2c4 0001 	movt	r0, #16385	; 0x4001
  da:	a901      	add	r1, sp, #4
  dc:	f7ff fffe 	bl	0 <GPIO_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:648
}
  e0:	b002      	add	sp, #8
  e2:	e8bd 81f0 	ldmia.w	sp!, {r4, r5, r6, r7, r8, pc}
  e6:	bf00      	nop

Disassembly of section .text.NVIC_Configuration:

00000000 <NVIC_Configuration>:
NVIC_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:659
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void NVIC_Configuration(void)
{
   0:	b530      	push	{r4, r5, lr}
   2:	b083      	sub	sp, #12
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:662
  NVIC_InitTypeDef NVIC_InitStructure;
  /* Set the Vector Table base location at 0x08000000 */ 
  NVIC_SetVectorTable(NVIC_VectTab_FLASH, 0x0);   
   4:	f04f 6000 	mov.w	r0, #134217728	; 0x8000000
   8:	f04f 0100 	mov.w	r1, #0
   c:	f7ff fffe 	bl	0 <NVIC_SetVectorTable>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:664
  /* Enable the TIM1 global Interrupt */
  NVIC_InitStructure.NVIC_IRQChannel = TIM1_UP_IRQChannel;
  10:	f04f 0319 	mov.w	r3, #25
  14:	f88d 3004 	strb.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:665
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  18:	f04f 0400 	mov.w	r4, #0
  1c:	f88d 4005 	strb.w	r4, [sp, #5]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:666
  NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
  20:	f88d 4006 	strb.w	r4, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:667
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  24:	f04f 0501 	mov.w	r5, #1
  28:	f88d 5007 	strb.w	r5, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:668
  NVIC_Init(&NVIC_InitStructure);
  2c:	a801      	add	r0, sp, #4
  2e:	f7ff fffe 	bl	0 <NVIC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:670
  /* Enable the TIM2 global Interrupt */
  NVIC_InitStructure.NVIC_IRQChannel = TIM2_IRQChannel;
  32:	f04f 031c 	mov.w	r3, #28
  36:	f88d 3004 	strb.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:671
  NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
  3a:	f88d 4005 	strb.w	r4, [sp, #5]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:672
  NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
  3e:	f88d 4006 	strb.w	r4, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:673
  NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  42:	f88d 5007 	strb.w	r5, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:674
  NVIC_Init(&NVIC_InitStructure);
  46:	a801      	add	r0, sp, #4
  48:	f7ff fffe 	bl	0 <NVIC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:676
	/* Enable USART interrupt */
	NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQChannel;
  4c:	f04f 0325 	mov.w	r3, #37	; 0x25
  50:	f88d 3004 	strb.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:677
	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 1;
  54:	f88d 5005 	strb.w	r5, [sp, #5]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:678
  NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
  58:	f88d 4006 	strb.w	r4, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:679
	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
  5c:	f88d 5007 	strb.w	r5, [sp, #7]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:680
	NVIC_Init(&NVIC_InitStructure);
  60:	a801      	add	r0, sp, #4
  62:	f7ff fffe 	bl	0 <NVIC_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:681
}
  66:	b003      	add	sp, #12
  68:	bd30      	pop	{r4, r5, pc}
  6a:	bf00      	nop

Disassembly of section .text.TIM1_Configuration:

00000000 <TIM1_Configuration>:
TIM1_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:691
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void TIM1_Configuration(void)
{
   0:	b510      	push	{r4, lr}
   2:	b084      	sub	sp, #16
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:693
  TIM_TimeBaseInitTypeDef  TIM_TimeBaseStructure;
  TIM_TimeBaseStructure.TIM_ClockDivision = 0;
   4:	f04f 0300 	mov.w	r3, #0
   8:	461a      	mov	r2, r3
   a:	f8ad 300a 	strh.w	r3, [sp, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:694
  TIM_TimeBaseStructure.TIM_Prescaler = 0;
   e:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:695
  TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
  12:	f8ad 3006 	strh.w	r3, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:701
  /* Time base configuration 56MHz clock */
  //TIM_TimeBaseStructure.TIM_Period = 139;
  /* Time base configuration 48MHz clock */
  //TIM_TimeBaseStructure.TIM_Period = 119;
  /* Time base configuration 40MHz clock */
  TIM_TimeBaseStructure.TIM_Period = 99;
  16:	f04f 0363 	mov.w	r3, #99	; 0x63
  1a:	f8ad 3008 	strh.w	r3, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:702
  TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
  1e:	f88d 200c 	strb.w	r2, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:703
  TIM_TimeBaseInit(TIM1, &TIM_TimeBaseStructure);
  22:	f44f 5430 	mov.w	r4, #11264	; 0x2c00
  26:	f2c4 0401 	movt	r4, #16385	; 0x4001
  2a:	4620      	mov	r0, r4
  2c:	a901      	add	r1, sp, #4
  2e:	f7ff fffe 	bl	0 <TIM_TimeBaseInit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:705
  /* Enable TIM1 Update interrupt */
  TIM_ClearITPendingBit(TIM1,TIM_IT_Update);
  32:	4620      	mov	r0, r4
  34:	f04f 0101 	mov.w	r1, #1
  38:	f7ff fffe 	bl	0 <TIM_ClearITPendingBit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:706
  TIM_ITConfig(TIM1, TIM_IT_Update, ENABLE);
  3c:	4620      	mov	r0, r4
  3e:	f04f 0101 	mov.w	r1, #1
  42:	460a      	mov	r2, r1
  44:	f7ff fffe 	bl	0 <TIM_ITConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:707
}
  48:	b004      	add	sp, #16
  4a:	bd10      	pop	{r4, pc}

Disassembly of section .text.TIM2_Configuration:

00000000 <TIM2_Configuration>:
TIM2_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:717
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void TIM2_Configuration(void)
{
   0:	b500      	push	{lr}
   2:	b085      	sub	sp, #20
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:719
  TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
  TIM_TimeBaseStructure.TIM_ClockDivision = 0;
   4:	f04f 0300 	mov.w	r3, #0
   8:	f8ad 300a 	strh.w	r3, [sp, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:720
  TIM_TimeBaseStructure.TIM_Prescaler = 0;
   c:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:721
  TIM_TimeBaseStructure.TIM_Period = STM32_Sonar.PixelTimer;
  10:	f240 0200 	movw	r2, #0
  14:	f2c0 0200 	movt	r2, #0
  18:	8892      	ldrh	r2, [r2, #4]
  1a:	f8ad 2008 	strh.w	r2, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:722
  TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
  1e:	f8ad 3006 	strh.w	r3, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:723
  TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
  22:	f88d 300c 	strb.w	r3, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:724
  TIM_TimeBaseInit(TIM2, &TIM_TimeBaseStructure);
  26:	f04f 4080 	mov.w	r0, #1073741824	; 0x40000000
  2a:	a901      	add	r1, sp, #4
  2c:	f7ff fffe 	bl	0 <TIM_TimeBaseInit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:726
  /* Enable TIM2 Update interrupt */
  TIM_ClearITPendingBit(TIM2,TIM_IT_Update);
  30:	f04f 4080 	mov.w	r0, #1073741824	; 0x40000000
  34:	f04f 0101 	mov.w	r1, #1
  38:	f7ff fffe 	bl	0 <TIM_ClearITPendingBit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:727
  TIM_ITConfig(TIM2, TIM_IT_Update, ENABLE);
  3c:	f04f 4080 	mov.w	r0, #1073741824	; 0x40000000
  40:	f04f 0101 	mov.w	r1, #1
  44:	460a      	mov	r2, r1
  46:	f7ff fffe 	bl	0 <TIM_ITConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:728
}
  4a:	b005      	add	sp, #20
  4c:	bd00      	pop	{pc}
  4e:	bf00      	nop

Disassembly of section .text.TIM1_UP_IRQHandler:

00000000 <TIM1_UP_IRQHandler>:
TIM1_UP_IRQHandler():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:345
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void TIM1_UP_IRQHandler(void)
{
   0:	b508      	push	{r3, lr}
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:347
  /* Set ping outputs high (FET's off) */
  GPIOA->BSRR = (u16) (GPIO_Pin_2 | GPIO_Pin_1);
   2:	f44f 6300 	mov.w	r3, #2048	; 0x800
   6:	f2c4 0301 	movt	r3, #16385	; 0x4001
   a:	f04f 0206 	mov.w	r2, #6
   e:	611a      	str	r2, [r3, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:348
  if (STM32_Sonar.PingPulses)
  10:	f240 0300 	movw	r3, #0
  14:	f2c0 0300 	movt	r3, #0
  18:	785a      	ldrb	r2, [r3, #1]
  1a:	b1fa      	cbz	r2, 5c <TIM1_UP_IRQHandler+0x5c>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:350
  {
    GPIOA->ODR = Ping;
  1c:	f240 0300 	movw	r3, #0
  20:	f2c0 0300 	movt	r3, #0
  24:	8818      	ldrh	r0, [r3, #0]
  26:	b280      	uxth	r0, r0
  28:	f44f 6100 	mov.w	r1, #2048	; 0x800
  2c:	f2c4 0101 	movt	r1, #16385	; 0x4001
  30:	60c8      	str	r0, [r1, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:351
    if (Ping == 0x2)
  32:	881b      	ldrh	r3, [r3, #0]
  34:	b29b      	uxth	r3, r3
  36:	2b02      	cmp	r3, #2
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:353
    {
      Ping = 0x4;     // PA02
  38:	f240 0300 	movw	r3, #0
  3c:	f2c0 0300 	movt	r3, #0
  40:	bf07      	ittee	eq
  42:	2104      	moveq	r1, #4
  44:	8019      	strheq	r1, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:357
    }
    else
    {
      Ping = 0x2;     // PA01
  46:	2102      	movne	r1, #2
  48:	8019      	strhne	r1, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:358
      STM32_Sonar.PingPulses--;
  4a:	bf1f      	itttt	ne
  4c:	f240 0300 	movwne	r3, #0
  50:	f2c0 0300 	movtne	r3, #0
  54:	f102 32ff 	addne.w	r2, r2, #4294967295
  58:	705a      	strbne	r2, [r3, #1]
  5a:	e01c      	b.n	96 <TIM1_UP_IRQHandler+0x96>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:364
    }
  }
  else
  {
    /* Ping done, Disable TIM1 */
    TIM_Cmd(TIM1, DISABLE);
  5c:	f44f 5030 	mov.w	r0, #11264	; 0x2c00
  60:	f2c4 0001 	movt	r0, #16385	; 0x4001
  64:	f04f 0100 	mov.w	r1, #0
  68:	f7ff fffe 	bl	0 <TIM_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:366
    /* TIM2 configuration */
    TIM2_Configuration();
  6c:	f7ff fffe 	bl	0 <TIM1_UP_IRQHandler>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:368
    /* Clear TIM2 Update interrupt pending bit */
    TIM2->SR = (u16)~TIM_IT_Update;
  70:	f04f 4080 	mov.w	r0, #1073741824	; 0x40000000
  74:	f64f 72fe 	movw	r2, #65534	; 0xfffe
  78:	8202      	strh	r2, [r0, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:370
    /* Enable TIM2 */
    TIM_Cmd(TIM2, ENABLE);
  7a:	f04f 0101 	mov.w	r1, #1
  7e:	f7ff fffe 	bl	0 <TIM_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:373
    /* Enable the USART Receive interrupt: this interrupt is generated when the 
       USART1 receive data register is not empty */
    USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);
  82:	f44f 5060 	mov.w	r0, #14336	; 0x3800
  86:	f2c4 0001 	movt	r0, #16385	; 0x4001
  8a:	f240 5125 	movw	r1, #1317	; 0x525
  8e:	f04f 0201 	mov.w	r2, #1
  92:	f7ff fffe 	bl	0 <USART_ITConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:376
  }
  /* Clear TIM1 Update interrupt pending bit */
  TIM1->SR = (u16)~TIM_IT_Update;
  96:	f44f 5330 	mov.w	r3, #11264	; 0x2c00
  9a:	f2c4 0301 	movt	r3, #16385	; 0x4001
  9e:	f64f 71fe 	movw	r1, #65534	; 0xfffe
  a2:	8219      	strh	r1, [r3, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:377
}
  a4:	bd08      	pop	{r3, pc}
  a6:	bf00      	nop

Disassembly of section .text.TIM3_Configuration:

00000000 <TIM3_Configuration>:
TIM3_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:738
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void TIM3_Configuration(void)
{
   0:	b570      	push	{r4, r5, r6, lr}
   2:	b088      	sub	sp, #32
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:741
  TIM_TimeBaseInitTypeDef  TIM_TimeBaseStructure;
  TIM_OCInitTypeDef  TIM_OCInitStructure;
  TIM_TimeBaseStructure.TIM_ClockDivision = 0;
   4:	f04f 0400 	mov.w	r4, #0
   8:	f8ad 401a 	strh.w	r4, [sp, #26]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:742
  TIM_TimeBaseStructure.TIM_Prescaler = 0;
   c:	f8ad 4014 	strh.w	r4, [sp, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:743
  TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
  10:	f8ad 4016 	strh.w	r4, [sp, #22]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:749
  /* Time base configuration 56MHz clock */
  //TIM_TimeBaseStructure.TIM_Period = 139;
  /* Time base configuration 48MHz clock */
  //TIM_TimeBaseStructure.TIM_Period = 119;
  /* Time base configuration 40MHz clock */
  TIM_TimeBaseStructure.TIM_Period = 199;
  14:	f04f 02c7 	mov.w	r2, #199	; 0xc7
  18:	f8ad 2018 	strh.w	r2, [sp, #24]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:750
  TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
  1c:	f88d 401c 	strb.w	r4, [sp, #28]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:751
  TIM_TimeBaseInit(TIM3, &TIM_TimeBaseStructure);
  20:	f44f 6580 	mov.w	r5, #1024	; 0x400
  24:	f2c4 0500 	movt	r5, #16384	; 0x4000
  28:	4628      	mov	r0, r5
  2a:	a905      	add	r1, sp, #20
  2c:	f7ff fffe 	bl	0 <TIM_TimeBaseInit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:753
  /* PWM1 Mode configuration: Channel3 */
  TIM_OCInitStructure.TIM_OCMode = TIM_OCMode_PWM1;
  30:	f04f 0360 	mov.w	r3, #96	; 0x60
  34:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:754
  TIM_OCInitStructure.TIM_OutputState = TIM_OutputState_Enable;
  38:	f04f 0601 	mov.w	r6, #1
  3c:	f8ad 6006 	strh.w	r6, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:755
  TIM_OCInitStructure.TIM_OutputNState = TIM_OutputState_Disable;
  40:	f8ad 4008 	strh.w	r4, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:756
  TIM_OCInitStructure.TIM_Pulse = 99;
  44:	f04f 0263 	mov.w	r2, #99	; 0x63
  48:	f8ad 200a 	strh.w	r2, [sp, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:757
  TIM_OCInitStructure.TIM_OCPolarity = TIM_OCPolarity_High;
  4c:	f8ad 400c 	strh.w	r4, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:758
  TIM_OCInitStructure.TIM_OCNPolarity = TIM_OCPolarity_Low;
  50:	f04f 0302 	mov.w	r3, #2
  54:	f8ad 300e 	strh.w	r3, [sp, #14]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:759
  TIM_OCInitStructure.TIM_OCIdleState = TIM_OCIdleState_Reset;
  58:	f8ad 4010 	strh.w	r4, [sp, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:760
  TIM_OCInitStructure.TIM_OCNIdleState = TIM_OCIdleState_Reset;
  5c:	f8ad 4012 	strh.w	r4, [sp, #18]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:761
  TIM_OC3Init(TIM3, &TIM_OCInitStructure);
  60:	4628      	mov	r0, r5
  62:	a901      	add	r1, sp, #4
  64:	f7ff fffe 	bl	0 <TIM_OC3Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:762
  TIM_OC1PreloadConfig(TIM3, TIM_OCPreload_Enable);
  68:	4628      	mov	r0, r5
  6a:	f04f 0108 	mov.w	r1, #8
  6e:	f7ff fffe 	bl	0 <TIM_OC1PreloadConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:763
  TIM_ARRPreloadConfig(TIM3, ENABLE);
  72:	4628      	mov	r0, r5
  74:	4631      	mov	r1, r6
  76:	f7ff fffe 	bl	0 <TIM_ARRPreloadConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:765
  /* TIM3 Main Output Enable */
  TIM_CtrlPWMOutputs(TIM3, ENABLE);
  7a:	4628      	mov	r0, r5
  7c:	4631      	mov	r1, r6
  7e:	f7ff fffe 	bl	0 <TIM_CtrlPWMOutputs>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:766
}
  82:	b008      	add	sp, #32
  84:	bd70      	pop	{r4, r5, r6, pc}
  86:	bf00      	nop

Disassembly of section .text.USART_Configuration:

00000000 <USART_Configuration>:
USART_Configuration():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:776
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
void USART_Configuration(u16 BaudRate)
{
   0:	b530      	push	{r4, r5, lr}
   2:	b085      	sub	sp, #20
   4:	4605      	mov	r5, r0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:787
        - Hardware flow control disabled
        - Receive and transmit enabled
  */
  USART_InitTypeDef USART_InitStructure;

  USART_DeInit(USART1);
   6:	f44f 5460 	mov.w	r4, #14336	; 0x3800
   a:	f2c4 0401 	movt	r4, #16385	; 0x4001
   e:	4620      	mov	r0, r4
  10:	f7ff fffe 	bl	0 <USART_DeInit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:788
  USART_InitStructure.USART_BaudRate = BaudRate;
  14:	9500      	str	r5, [sp, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:789
  USART_InitStructure.USART_WordLength = USART_WordLength_8b;
  16:	f04f 0300 	mov.w	r3, #0
  1a:	f8ad 3004 	strh.w	r3, [sp, #4]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:790
  USART_InitStructure.USART_StopBits = USART_StopBits_1;
  1e:	f8ad 3006 	strh.w	r3, [sp, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:791
  USART_InitStructure.USART_Parity = USART_Parity_No ;
  22:	f8ad 3008 	strh.w	r3, [sp, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:792
  USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  26:	f8ad 300c 	strh.w	r3, [sp, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:793
  USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  2a:	f04f 030c 	mov.w	r3, #12
  2e:	f8ad 300a 	strh.w	r3, [sp, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:794
  USART_Init(USART1, &USART_InitStructure);
  32:	4620      	mov	r0, r4
  34:	4669      	mov	r1, sp
  36:	f7ff fffe 	bl	0 <USART_Init>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:797
  /* Enable the USART Receive interrupt: this interrupt is generated when the 
     USART1 receive data register is not empty */
  USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);
  3a:	4620      	mov	r0, r4
  3c:	f240 5125 	movw	r1, #1317	; 0x525
  40:	f04f 0201 	mov.w	r2, #1
  44:	f7ff fffe 	bl	0 <USART_ITConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:799
  /* Enable the USART1 */
  USART_Cmd(USART1, ENABLE);
  48:	4620      	mov	r0, r4
  4a:	f04f 0101 	mov.w	r1, #1
  4e:	f7ff fffe 	bl	0 <USART_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:800
}
  52:	b005      	add	sp, #20
  54:	bd30      	pop	{r4, r5, pc}
  56:	bf00      	nop

Disassembly of section .text.main:

00000000 <main>:
main():
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:77
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
int main(void)
{
   0:	e92d 41f0 	stmdb	sp!, {r4, r5, r6, r7, r8, lr}
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:80
  u32 i;
  /* System clocks configuration */
  RCC_Configuration();
   4:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:82
  /* NVIC configuration */
  NVIC_Configuration();
   8:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:84
  /* GPIO configuration */
  GPIO_Configuration();
   c:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:86
  /* TIM1 configuration */
  TIM1_Configuration();
  10:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:88
  /* TIM3 configuration */
  TIM3_Configuration();
  14:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:90
  /* ADC1 configuration */
  ADC_Startup();
  18:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:92
  /* ADC1 injected channel configuration */
  ADC_Configuration();
  1c:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:94
  /* Enable DAC channel1 and channel2, buffered output */
  DAC->CR = 0x10001;
  20:	f44f 43e8 	mov.w	r3, #29696	; 0x7400
  24:	f2c4 0300 	movt	r3, #16384	; 0x4000
  28:	f04f 1201 	mov.w	r2, #65537	; 0x10001
  2c:	601a      	str	r2, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:96
  /* Set the DAC channel1 to output lowest gain */
  DAC->DHR12R1 = (u16)0x0;
  2e:	f04f 0400 	mov.w	r4, #0
  32:	609c      	str	r4, [r3, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:98
  /* Set the DAC channel2 to output middle output trim */
  DAC->DHR12R2 = (u16)0x400;
  34:	f44f 6280 	mov.w	r2, #1024	; 0x400
  38:	615a      	str	r2, [r3, #20]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:100
  /* Setup USART1 4800 baud */
  USART_Configuration(4800);
  3a:	f44f 5096 	mov.w	r0, #4800	; 0x12c0
  3e:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:103
  /* Wait until GPS module has started up */
  i = 0;
  while (i++ < 20000000)
  42:	f642 5301 	movw	r3, #11521	; 0x2d01
  46:	f2c0 1331 	movt	r3, #305	; 0x131
  4a:	f104 0401 	add.w	r4, r4, #1
  4e:	429c      	cmp	r4, r3
  50:	d1fb      	bne.n	4a <main+0x4a>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:106
  {
  }
  Setup = 0;
  52:	f240 0300 	movw	r3, #0
  56:	f2c0 0300 	movt	r3, #0
  5a:	f04f 0200 	mov.w	r2, #0
  5e:	701a      	strb	r2, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:107
  if (GPIO_ReadInputDataBit(GPIOA,GPIO_Pin_0))
  60:	f44f 6000 	mov.w	r0, #2048	; 0x800
  64:	f2c4 0001 	movt	r0, #16385	; 0x4001
  68:	f04f 0101 	mov.w	r1, #1
  6c:	f7ff fffe 	bl	0 <GPIO_ReadInputDataBit>
  70:	b170      	cbz	r0, 90 <main+0x90>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:110
  {
    /* Enable TIM3 */
    TIM_Cmd(TIM3, ENABLE);
  72:	f44f 6080 	mov.w	r0, #1024	; 0x400
  76:	f2c4 0000 	movt	r0, #16384	; 0x4000
  7a:	f04f 0101 	mov.w	r1, #1
  7e:	f7ff fffe 	bl	0 <TIM_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:111
    Setup = 1;
  82:	f240 0300 	movw	r3, #0
  86:	f2c0 0300 	movt	r3, #0
  8a:	f04f 0201 	mov.w	r2, #1
  8e:	701a      	strb	r2, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:115
  }
  while (1)
  {
    if (STM32_Sonar.Start == 1)
  90:	f240 0500 	movw	r5, #0
  94:	f2c0 0500 	movt	r5, #0
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:76
* Description    : Main program
* Input          : None
* Output         : None
* Return         : None
*******************************************************************************/
int main(void)
  98:	f505 7402 	add.w	r4, r5, #520	; 0x208
  9c:	f104 0407 	add.w	r4, r4, #7
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:115
    TIM_Cmd(TIM3, ENABLE);
    Setup = 1;
  }
  while (1)
  {
    if (STM32_Sonar.Start == 1)
  a0:	782b      	ldrb	r3, [r5, #0]
  a2:	2b01      	cmp	r3, #1
  a4:	f040 8095 	bne.w	1d2 <main+0x1d2>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:117
    {
      STM32_Sonar.Start = 99;
  a8:	f04f 0363 	mov.w	r3, #99	; 0x63
  ac:	702b      	strb	r3, [r5, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:119
      /* Toggle blue led */
      if (BlueLED)
  ae:	f240 0300 	movw	r3, #0
  b2:	f2c0 0300 	movt	r3, #0
  b6:	781b      	ldrb	r3, [r3, #0]
  b8:	b18b      	cbz	r3, de <main+0xde>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:121
      {
        GPIO_WriteBit(GPIOC, GPIO_Pin_8, Bit_RESET);
  ba:	f44f 5080 	mov.w	r0, #4096	; 0x1000
  be:	f2c4 0001 	movt	r0, #16385	; 0x4001
  c2:	f44f 7180 	mov.w	r1, #256	; 0x100
  c6:	f04f 0200 	mov.w	r2, #0
  ca:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:122
        BlueLED = 0;
  ce:	f240 0300 	movw	r3, #0
  d2:	f2c0 0300 	movt	r3, #0
  d6:	f04f 0200 	mov.w	r2, #0
  da:	701a      	strb	r2, [r3, #0]
  dc:	e010      	b.n	100 <main+0x100>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:126
      }
      else
      {
        GPIO_WriteBit(GPIOC, GPIO_Pin_8, Bit_SET);
  de:	f44f 5080 	mov.w	r0, #4096	; 0x1000
  e2:	f2c4 0001 	movt	r0, #16385	; 0x4001
  e6:	f44f 7180 	mov.w	r1, #256	; 0x100
  ea:	f04f 0201 	mov.w	r2, #1
  ee:	f7ff fffe 	bl	0 <GPIO_WriteBit>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:127
        BlueLED = 1;
  f2:	f240 0300 	movw	r3, #0
  f6:	f2c0 0300 	movt	r3, #0
  fa:	f04f 0201 	mov.w	r2, #1
  fe:	701a      	strb	r2, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:130
      }
      /* Setup gain array */
      GainSetup();
 100:	f7ff fffe 	bl	0 <main>
 104:	f105 0310 	add.w	r3, r5, #16
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:135
      /* Clear the echo array */
      i = 1;
      while (i < MAXECHO)
      {
        STM32_Sonar.EchoArray[i++] = 0;
 108:	f04f 0200 	mov.w	r2, #0
 10c:	f803 2f01 	strb.w	r2, [r3, #1]!
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:133
      }
      /* Setup gain array */
      GainSetup();
      /* Clear the echo array */
      i = 1;
      while (i < MAXECHO)
 110:	42a3      	cmp	r3, r4
 112:	d1fb      	bne.n	10c <main+0x10c>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:138
      {
        STM32_Sonar.EchoArray[i++] = 0;
      }
      /* Read battery */
      STM32_Sonar.ADCBatt = GetADCValue(ADC_Channel_14);
 114:	f04f 000e 	mov.w	r0, #14
 118:	f7ff fffe 	bl	0 <main>
 11c:	8128      	strh	r0, [r5, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:140
      /* Read water temprature */
      STM32_Sonar.ADCWaterTemp = GetADCValue(ADC_Channel_6);
 11e:	f04f 0006 	mov.w	r0, #6
 122:	f7ff fffe 	bl	0 <main>
 126:	8168      	strh	r0, [r5, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:142
      /* Read air temprature */
      STM32_Sonar.ADCAirTemp = GetADCValue(ADC_Channel_7);
 128:	f04f 0007 	mov.w	r0, #7
 12c:	f7ff fffe 	bl	0 <main>
 130:	81a8      	strh	r0, [r5, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:143
      if (Setup)
 132:	f240 0300 	movw	r3, #0
 136:	f2c0 0300 	movt	r3, #0
 13a:	781b      	ldrb	r3, [r3, #0]
 13c:	b11b      	cbz	r3, 146 <main+0x146>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:146
      {
        /* No ping in setup mode */
        STM32_Sonar.PingPulses = 0;
 13e:	f04f 0300 	mov.w	r3, #0
 142:	706b      	strb	r3, [r5, #1]
 144:	e001      	b.n	14a <main+0x14a>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:150
      }
      else
      {
        TrimOutput();
 146:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:153
      }
      /* Enable ADC injected channel */
      ADC_AutoInjectedConvCmd(ADC1, ENABLE);
 14a:	f44f 5810 	mov.w	r8, #9216	; 0x2400
 14e:	f2c4 0801 	movt	r8, #16385	; 0x4001
 152:	4640      	mov	r0, r8
 154:	f04f 0101 	mov.w	r1, #1
 158:	f7ff fffe 	bl	0 <ADC_AutoInjectedConvCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:155
      /* Set the TIM1 Autoreload value */
      TIM1->ARR = STM32_Sonar.PingTimer;
 15c:	78ab      	ldrb	r3, [r5, #2]
 15e:	b29a      	uxth	r2, r3
 160:	f44f 5630 	mov.w	r6, #11264	; 0x2c00
 164:	f2c4 0601 	movt	r6, #16385	; 0x4001
 168:	85b3      	strh	r3, [r6, #44]	; 0x2c
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:157
      /* Set the TIM3 Autoreload value */
      TIM3->ARR = STM32_Sonar.PingTimer*2+1;
 16a:	ea4f 0242 	mov.w	r2, r2, lsl #1
 16e:	f102 0201 	add.w	r2, r2, #1
 172:	f44f 6380 	mov.w	r3, #1024	; 0x400
 176:	f2c4 0300 	movt	r3, #16384	; 0x4000
 17a:	859a      	strh	r2, [r3, #44]	; 0x2c
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:159
      /* Reset TIM1 count */
      TIM1->CNT = 0;
 17c:	f04f 0700 	mov.w	r7, #0
 180:	84b7      	strh	r7, [r6, #36]	; 0x24
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:161
      /* Set TIM1 repetirion counter */
      TIM1->RCR = 0;
 182:	8637      	strh	r7, [r6, #48]	; 0x30
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:163
      /* Reset echo index */
      STM32_Sonar.EchoIndex = 0;
 184:	80ef      	strh	r7, [r5, #6]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:165
      /* Init Ping */
      Ping = 0x2;
 186:	f240 0300 	movw	r3, #0
 18a:	f2c0 0300 	movt	r3, #0
 18e:	f04f 0202 	mov.w	r2, #2
 192:	801a      	strh	r2, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:168
      /* Disable the USART Receive interrupt: this interrupt is generated when the 
         USART1 receive data register is not empty */
      USART_ITConfig(USART1, USART_IT_RXNE, DISABLE);
 194:	f44f 5060 	mov.w	r0, #14336	; 0x3800
 198:	f2c4 0001 	movt	r0, #16385	; 0x4001
 19c:	f240 5125 	movw	r1, #1317	; 0x525
 1a0:	463a      	mov	r2, r7
 1a2:	f7ff fffe 	bl	0 <USART_ITConfig>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:170
      /* Enable TIM1 */
      TIM_Cmd(TIM1, ENABLE);
 1a6:	4630      	mov	r0, r6
 1a8:	f04f 0101 	mov.w	r1, #1
 1ac:	f7ff fffe 	bl	0 <TIM_Cmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:172
      /* Get the Echo array */
      GetEcho();
 1b0:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:174
      /* Store the current range as the first byte in the echo array */
      STM32_Sonar.EchoArray[0] = STM32_Sonar.RangeInx;
 1b4:	78eb      	ldrb	r3, [r5, #3]
 1b6:	742b      	strb	r3, [r5, #16]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:176
      /* Done, Disable TIM2 */
      TIM2->CR1 = 0;
 1b8:	f04f 4380 	mov.w	r3, #1073741824	; 0x40000000
 1bc:	801f      	strh	r7, [r3, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:178
      /* Disable ADC injected channel */
      ADC_AutoInjectedConvCmd(ADC1, DISABLE);
 1be:	4640      	mov	r0, r8
 1c0:	4639      	mov	r1, r7
 1c2:	f7ff fffe 	bl	0 <ADC_AutoInjectedConvCmd>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:180
      /* Set the DAC to output lowest gain */
      DAC->DHR12R1 = (u16)0x0;
 1c6:	f44f 43e8 	mov.w	r3, #29696	; 0x7400
 1ca:	f2c4 0300 	movt	r3, #16384	; 0x4000
 1ce:	609f      	str	r7, [r3, #8]
 1d0:	e02a      	b.n	228 <main+0x228>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:182
    }
    else if (STM32_Sonar.Start == 2)
 1d2:	782b      	ldrb	r3, [r5, #0]
 1d4:	2b02      	cmp	r3, #2
 1d6:	d107      	bne.n	1e8 <main+0x1e8>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:185
    {
      /* Send initialization data to GPS */
      rs232_puts((char*) (u32 *)STM32_Sonar.GainArray);
 1d8:	f505 7004 	add.w	r0, r5, #528	; 0x210
 1dc:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:186
      STM32_Sonar.Start=0;
 1e0:	f04f 0300 	mov.w	r3, #0
 1e4:	702b      	strb	r3, [r5, #0]
 1e6:	e01f      	b.n	228 <main+0x228>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:188
    }
    else if (STM32_Sonar.Start == 3)
 1e8:	782b      	ldrb	r3, [r5, #0]
 1ea:	2b03      	cmp	r3, #3
 1ec:	d107      	bne.n	1fe <main+0x1fe>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:191
    {
      /* Set USART baudrate */
      USART_Configuration(STM32_Sonar.EchoIndex);
 1ee:	88e8      	ldrh	r0, [r5, #6]
 1f0:	b280      	uxth	r0, r0
 1f2:	f7ff fffe 	bl	0 <main>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:192
      STM32_Sonar.Start=0;
 1f6:	f04f 0300 	mov.w	r3, #0
 1fa:	702b      	strb	r3, [r5, #0]
 1fc:	e014      	b.n	228 <main+0x228>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:194
    }
    else if (STM32_Sonar.Start == 4)
 1fe:	782b      	ldrb	r3, [r5, #0]
 200:	2b04      	cmp	r3, #4
 202:	d111      	bne.n	228 <main+0x228>
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:197
    {
      /* Read battery */
      STM32_Sonar.ADCBatt = GetADCValue(ADC_Channel_14);
 204:	f04f 000e 	mov.w	r0, #14
 208:	f7ff fffe 	bl	0 <main>
 20c:	8128      	strh	r0, [r5, #8]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:199
      /* Read water temprature */
      STM32_Sonar.ADCWaterTemp = GetADCValue(ADC_Channel_6);
 20e:	f04f 0006 	mov.w	r0, #6
 212:	f7ff fffe 	bl	0 <main>
 216:	8168      	strh	r0, [r5, #10]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:201
      /* Read air temprature */
      STM32_Sonar.ADCAirTemp = GetADCValue(ADC_Channel_7);
 218:	f04f 0007 	mov.w	r0, #7
 21c:	f7ff fffe 	bl	0 <main>
 220:	81a8      	strh	r0, [r5, #12]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:202
      STM32_Sonar.Start=0;
 222:	f04f 0300 	mov.w	r3, #0
 226:	702b      	strb	r3, [r5, #0]
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:204
    }
    i = 1000;
 228:	f44f 737a 	mov.w	r3, #1000	; 0x3e8
C:\FbEdit\Projects\Applications\FbEdit\BoatNav\STM32_Sonar/main.c:205
    while (i--);
 22c:	f103 33ff 	add.w	r3, r3, #4294967295
 230:	f1b3 3fff 	cmp.w	r3, #4294967295
 234:	d1fa      	bne.n	22c <main+0x22c>
 236:	e733      	b.n	a0 <main+0xa0>
